import React, { useState } from 'react'
import plusIcon from '../assets/Plus.png'
import minusIcon from '../assets/minus.png'
import '../styles/BusinessResults.css'

function BusinessResults({ onOpenDemo }) {
  const [activeIndex, setActiveIndex] = useState(-1)

  const results = [
    {
      title: 'Факт видимости в кадре',
      content: {
        situation: 'Маркетолог крупного бренда спортивной одежды должен был доказать, что логотип бренда был виден во время трансляции матча, несмотря на то, что он был размещён на LED-панелях за воротами — в менее заметной зоне.',
        problem: 'После трансляции партнёр усомнился в эффективности размещения, утверждая, что логотип был едва виден, и запросил пересчёт стоимости.',
        help: [
          'Система автоматически проанализировала видео матча.',
          'Зафиксировала все случаи появления логотипа в кадре, включая точное время, продолжительность и позицию.',
          'Выявила 11 минут и 32 секунды чистого экранного времени с логотипом бренда.',
          'Сформировала отчёт со скриншотами, таймкодами и расчётом медиа-стоимости в денежном выражении.'
        ],
        result: [
          'Маркетолог предоставил отчёт партнёру, спор был решён.',
          'Стоимость размещения подтверждена.',
          'Руководство получило прозрачную аналитику и одобрило повторное размещение в будущих матчах.'
        ]
      }
    },
    {
      title: 'Сравнение с конкурентом',
      content: {
        situation: 'Совет директоров запросил отчёт, показывающий, какой бренд (клиент или ключевой конкурент) достиг большей визуальной видимости в дерби, разбивку по плейсментам и игровым моментам.',
        problem: 'Публичные обзоры обычно считали упоминания и общие минуты без нормализации по качеству кадра.',
        help: [
          'Покадрово зафиксировал все визуальные появления логотипов на формах, LED-экранах, табло, графике студии и оверлеях стрима, сохраняя таймкоды и «лучшие кадры».',
          'Рассчитал визуальный SOV (Share of Voice, взвешенная видимость бренда).',
          'Сгенерировал тепловые карты плейсментов и таймлайны пиков видимости, выявив «окна преимущества» и зоны, где клиент был недоохвачен относительно конкурента.',
          'Конвертировал визуальную экспозицию в Sponsor Media Value (SMV) по рыночным ставкам, чтобы сравнить «стоимость за качественную минуту» между брендами.'
        ],
        result: [
          'Продемонстрировал преимущество клиента в визуальном SOV и стоимости за качественную минуту в ключевых плейсментах, рекомендовал перераспределение бюджета в зоны с максимальной маржинальностью видимости.',
          'Подготовил слайды для переговоров с правообладателями и PR-резюме с доказательными кадрами, явно избегая опоры на аудио-упоминания, чтобы предотвратить методологические споры.'
        ]
      }
    },
    {
      title: 'Учет всех точек брендинга',
      content: {
        situation: 'Бренд использовал несколько медиаканалов (форма, зона тренеров, LED, графика студии) и хотел консолидировать все данные в единый отчёт.',
        problem: 'Разрозненные отчёты от разных подрядчиков не позволяли увидеть общий вклад и пересечения в точках контакта.',
        help: [
          'Создал единый покадровый реестр по всем медиа, категоризируя плейсменты, присваивая веса качества и рассчитывая общий SMV с разбивкой по каналам и событиям.'
        ],
        result: [
          'Предоставлен единый вклад от всех медиа, исключая дубли и временные пересечения.',
          'Выявлены «тёмные зоны» без покрытия, что привело к добавлению новых плейсментов в следующий спринт.',
          'Сформирован пакет экспортов для Business Intelligence (BI) и Marketing Attribution (MTA) с покадровыми event-данными.'
        ]
      }
    },
    {
      title: 'Отчёт за 15 минут',
      content: {
        situation: 'PR-команде требовалось представить первичные цифры видимости в течение 30 минут после финального свистка для брифинга.',
        problem: 'Ручная подготовка отчёта занимала часы, и данные часто устаревали к моменту встречи.',
        help: [
          'Предложил экспресс-обработку матча с приоритетом ключевых камер, автогенерацию дашборда с минутами видимости, ссылками на скриншоты и экспорт данных — всё за 15 минут.'
        ],
        result: [
          'В течение 15 минут после финального свистка был доступен дашборд с минутами видимости, SOV и предварительным SMV.',
          'Руководство получило «one-pager» для брифинга, а пресс-релиз использовал лучшие кадры.',
          'Финальная пересчитанная версия отчёта была готова в течение 24 часов без необходимости ручной компиляции.'
        ]
      }
    },
    {
      title: 'Единый отчёт по всем площадкам',
      content: {
        situation: 'Активность шла одновременно на стадионе, в стриминге и в соцмедиа, требовался консолидированный отчёт для совета директоров.',
        problem: 'Метрики разных каналов несопоставимы, AVE переоценивал часть показателей и не учитывал качество.',
        help: [
          'Нормализовал данные в единую методологию качественно взвешенной видимости, представил сводный SMV и вклад каждой площадки с прозрачной методикой и источниками ставок.'
        ],
        result: [
          'Консолидированный отчёт по стадиону, стримингу и соцмедиа согласован в одной методологии.',
          'Показана маржинальность каждого канала; перераспределён бюджет в наиболее эффективные.',
          'Сокращено время подготовки отчётности на 70-80% за счёт единого экспорта.'
        ]
      }
    },
    {
      title: 'Оптимизация спонсорского бюджета',
      content: {
        situation: 'Маркетинг искал, где сократить расходы без потери доли голоса в следующем квартале.',
        problem: 'Не было понимания, какие плейсменты дают наихудшую цену за 1 минуту качественной видимости.',
        help: [
          'Построил рейтинг плейсментов по цене качественной минуты и эластичности SOV, предложил перераспределение в более эффективные зоны и сценарии, смоделировал ESOV-сценарии.'
        ],
        result: [
          'Снижение цены качественной минуты на N% при сохранении/росте SOV за счёт переаллокации.',
          'Список «стоп-плейсментов» и «must-keep» зон с прогнозом влияния на SOV/SMV.',
          'Подготовлен сценарный план с ESOV-кривыми к ключевым турам сезона.'
        ]
      }
    },
    {
      title: 'Обоснование продления контракта',
      content: {
        situation: 'Срок соглашения заканчивался, и правообладатель запросил рост бюджета на следующий сезон.',
        problem: 'У закупщиков сомнения — «не завышена ли сумма» и «какая реальная отдача».',
        help: [
          'Предоставил доказательную матрицу «кадры → Weighted Exposure → SMV → бизнес-метрики», добавил бенчмарки по лиге, приложил кейс-кадры и методологию для утверждения финансами.'
        ],
        result: [
          'Предложение на следующий сезон утверждено: «кадры → Weighted Exposure → SMV → бизнес-результаты».',
          'Зафиксирован рост ESOV и коррелирующее улучшение бренд-метрик, что поддержало апселл.',
          'Подписан add-on на экспериментальные плейсменты с КПИ по цене качественной минуты.'
        ]
      }
    }
  ]

  const toggleItem = (index) => {
    setActiveIndex(activeIndex === index ? -1 : index)
  }

  return (
    <section id="analyses" className="business-results">
      <div className="business-results-container">
        <h2 className="business-results-title">Результаты для бизнеса</h2>
        
        <div className="results-accordion">
          {results.map((result, index) => (
            <div key={index} className={`accordion-item ${activeIndex === index ? 'active' : ''}`}>
              <div className="accordion-header" onClick={() => toggleItem(index)}>
                <h3 className="accordion-title">{result.title}</h3>
                        <img
                          src={activeIndex === index ? minusIcon : plusIcon}
                          alt={activeIndex === index ? 'Minus' : 'Plus'}
                          className={`accordion-icon ${activeIndex === index ? 'accordion-icon-minus' : ''}`}
                          loading="eager"
                        />
              </div>
              {activeIndex === index && result.content && (
                <div className="accordion-content">
                  <div className="content-section">
                    <h4 className="section-label">Ситуация</h4>
                    <p className="section-text">{result.content.situation}</p>
                  </div>
                  <div className="content-section">
                    <h4 className="section-label">Проблема</h4>
                    <p className="section-text">{result.content.problem}</p>
                  </div>
                  <div className="content-section">
                    <h4 className="section-label">Как помог Dataseeq</h4>
                    <ul className="section-list">
                      {result.content.help.map((item, i) => (
                        <li key={i}>{item}</li>
                      ))}
                    </ul>
                  </div>
                  <div className="content-section">
                    <h4 className="section-label">Результат</h4>
                    <ul className="section-list">
                      {result.content.result.map((item, i) => (
                        <li key={i}>{item}</li>
                      ))}
                    </ul>
                  </div>
                </div>
              )}
            </div>
          ))}
        </div>

        <div className="business-results-cta">
          <button type="button" className="business-results-button" onClick={onOpenDemo}>
            Увидеть все возможности
          </button>
          <p className="business-results-cta-text">
            Пройдите бесплатный аудит и<br />посмотрите на реальные данные
          </p>
        </div>
      </div>
    </section>
  )
}

export default BusinessResults

